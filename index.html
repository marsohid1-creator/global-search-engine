<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Auto Search</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            margin: 0; 
            padding: 0; 
            background: #fff; 
        }
        
        #loading-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: white;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: #555;
            transition: opacity 0.5s ease; /* Плавне зникнення */
        }

        .spinner {
            border: 4px solid #f3f3f3; 
            border-top: 4px solid #1E88E5;
            border-radius: 50%; width: 40px; height: 40px;
            animation: spin 1s linear infinite; margin-bottom: 15px;
        }
        
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .gsc-control-cse { padding: 0 !important; border: none !important; }
        .gsc-search-box, .gsc-search-button { display: none !important; }
        .gsc-adBlock { display: none !important; }
    </style>
</head>
<body>

    <div id="loading-overlay">
        <div class="spinner"></div>
        <div>Loading results...</div>
    </div>

    <!-- data-linkTarget="_self" is crucial for WebView navigation -->
    <div class="gcse-searchresults-only" data-gname="autoSearch" data-linkTarget="_self"></div>

    <script>
        // Функція приховування
        function hideLoader() {
            const loader = document.getElementById('loading-overlay');
            if (loader && loader.style.display !== 'none') {
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 500);
            }
        }

        // 1. Стандартний callback від Google
        window.__gcse = {
            searchCallbacks: {
                web: {
                    ready: hideLoader
                }
            }
        };

        // 2. ЗАПОБІЖНИК: Прибрати лоадер примусово через 3.5 секунди
        // Це гарантує, що ви побачите сторінку (або капчу), навіть якщо callback не спрацює.
        setTimeout(hideLoader, 3500);
    </script>

    <script async src="https://cse.google.com/cse.js?cx=1344d65dca9264bd9"></script>

</body>
</html>
